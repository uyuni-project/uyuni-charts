# SPDX-FileCopyrightText: 2026 SUSE LLC
# SPDX-FileContributor: CÃ©dric Bosdonnat
#
# SPDX-License-Identifier: MIT

{{- if not .Values.skipPreFlight -}}
  {{- if not (.Capabilities.APIVersions.Has "cert-manager.io/v1") -}}
    {{- fail "ERROR: The cert-manager API (cert-manager.io/v1) is not available in this cluster." -}}
  {{- end -}}

  {{- if not .Values.openbao.address -}}
    {{- fail "ERROR: openbao.address must be set to use OpenBao for certificates." -}}
  {{- end -}}
{{- end -}}
