# SPDX-FileCopyrightText: 2026 SUSE LLC
# SPDX-FileContributor: CÃ©dric Bosdonnat
#
# SPDX-License-Identifier: MIT

global:
  # config is the content of the config.yaml file generated by the server.
  # See the Systems > Proxy Configuration page on the server
  #  or the proxy.containerConfig API documentation.
  # This value is required
  config:

  # httpd is the content of the httpd.yaml file generated by the server.
  # See the Systems > Proxy Configuration page on the server
  #  or the proxy.containerConfig API documentation.
  # This value is required
  httpd:

  # ssh is the content of the ssh.yaml file generated by the server.
  # See the Systems > Proxy Configuration page on the server
  #  or the proxy.containerConfig API documentation.
  # This value is required
  ssh:

# caSecret can be used to point to a secret holding the root CA in the namespace where cert-manager is installed.
# This root CA is assumed to be common to the openbao server certificate and the Uyuni server one.
rootCASecret:
  name: root-ca
  key: ca.crt

# OpenBao specific configuration
openbao:
  # address is the URL of the openbao server, for example: "https://openbao.default.svc.cluster.local:8200"
  address:
  auth:
    # mountPath is appended after "/v1/auth/" in the authentication mount path
    mountPath: "kubernetes/uyuni-proxy-cluster"
    roleName: "uyuni-issuer-role"
  pkiPath: "pki/sign/uyuni-role"

certManagerNamespace: "cert-manager"

# All the proxy helm chart values can be passed under this property
proxy-helm: {}
